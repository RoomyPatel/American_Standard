<template>
   <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
      aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
      <div class="slds-modal__container">
         <header class="slds-modal__header">
            <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close"
               onclick={hideModalBox}>
               <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse"
                  size="small"></lightning-icon>
               <span class="slds-assistive-text">Close</span>
            </button>
            <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Edit</h2>
         </header>

         <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
            <div>
               <div style="display: flex;
                  justify-content: flex-end;">
                  <button style="width: 90px;
                     color: #3f3f3f;
                     padding: 5px;
                     background-color: #fff;
                     outline: none;
                     border: 1px solid #3f3f3f;
                     box-shadow: 1px 1px 1px #3f3f3f;
                     margin-right: 3px;
                     margin-bottom: 10px;" onclick={handleAdd}>Add</button>
               </div>
               <template for:each={fields} for:item="field" for:index="index">
                  <div key={field.id} style="display: flex; align-items: stretch;margin-bottom: 10px;">
                     <input type="url" value={field.value} onchange={handleInputChange} data-id={field.id}
                        data-index={index} style="flex-grow: 8;">
                     <div style="flex-grow: 1"></div>
                     <button style="width: 50px;
                           color: #3f3f3f;
                           padding: 5px;
                           margin: 0 3px;
                           background-color: #fff;
                           outline: none;
                           border: 1px solid #3f3f3f;
                           box-shadow: 1px 1px 1px #3f3f3f;
                           flex-grow: 1" onclick={handleDelete} data-id={field.id} data-index={index}>Delete</button>
                  </div>
               </template>
            </div>
         </div>

         <footer class="slds-modal__footer">
            <button class="slds-button slds-button_neutral" onclick={handleSave}>Save</button>
            <button class="slds-button slds-button_neutral" onclick={hideModalBox}>Cancel</button>
         </footer>

      </div>
   </section>
   <div class="slds-backdrop slds-backdrop_open"></div>
</template>